import{_ as h,b as _,r as g,o as c,c as u,a as s,e as l,p as d,t,g as f,f as w,w as p,v as b,q as v,j as m}from"./index-50b21e1d.js";import{_ as k}from"./perfume-banner-d126793e.js";const j={name:"JoinUs",data(){return{formData:{email:"",password:""},showPassword:!1,errorMessage:""}},methods:{async handleSubmit(){try{const e=await _.post("https://massagebackend.webenia.org/api/login",this.formData);if(e.data.is_verified===!1){localStorage.setItem("otp_email",this.formData.email),localStorage.setItem("showVerifyOtpPopup","true"),this.$router.push("/");return}if(e.data.token&&e.data.user){const o={token:e.data.token,user:e.data.user};localStorage.setItem("auth_token",o.token),localStorage.setItem("auth_user",JSON.stringify(o.user)),this.$store.commit("auth/SET_AUTH",o),await this.$store.dispatch("cart/loadCart"),this.$router.push("/"),this.errorMessage=""}else this.errorMessage=e.data.message||"Login failed."}catch{this.errorMessage="Incorrect email or password"}},togglePassword(){this.showPassword=!this.showPassword}}},U={class:"join-us-container"},y={class:"join-us-content"},P={class:"form-header"},D={class:"elegant-title"},S={class:"elegant-description"},M={key:0,class:"error-message"},V={class:"form-group"},$={for:"email"},I={class:"form-group"},C={for:"password"},N={class:"password-input-container"},T=["type"],q={class:"form-links"},A={type:"submit",class:"submit-btn"},B={class:"register-section"};function E(e,o,L,H,a,i){const n=g("router-link");return c(),u("div",U,[o[4]||(o[4]=s("div",{class:"banner-section"},[s("img",{src:k,alt:"Elegance Perfume",class:"banner-image"})],-1)),s("div",y,[l(n,{to:"/",class:"link mb-4"},{default:d(()=>[s("span",null,t(e.$t("joinUs.go-home")),1)]),_:1}),s("div",P,[s("h1",D,t(e.$t("joinUs.title")),1),s("p",S,t(e.$t("joinUs.description")),1)]),s("form",{onSubmit:o[3]||(o[3]=f((...r)=>i.handleSubmit&&i.handleSubmit(...r),["prevent"])),class:"join-form"},[a.errorMessage?(c(),u("div",M,t(a.errorMessage),1)):w("",!0),s("div",V,[s("label",$,t(e.$t("joinUs.email")),1),p(s("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=r=>a.formData.email=r),required:""},null,512),[[b,a.formData.email]])]),s("div",I,[s("label",C,t(e.$t("joinUs.password")),1),s("div",N,[p(s("input",{type:a.showPassword?"text":"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=r=>a.formData.password=r),required:""},null,8,T),[[v,a.formData.password]]),s("button",{type:"button",class:"show-password-btn",onClick:o[2]||(o[2]=(...r)=>i.togglePassword&&i.togglePassword(...r))},t(a.showPassword?e.$t("joinUs.hidePassword"):e.$t("joinUs.showPassword")),1)])]),s("div",q,[l(n,{to:"/forgot-password",class:"link"},{default:d(()=>[m(t(e.$t("joinUs.forgotPassword")),1)]),_:1})]),s("button",A,t(e.$t("joinUs.login")),1),s("div",B,[s("p",null,[m(t(e.$t("joinUs.notMember"))+" ",1),l(n,{to:"/register",class:"link"},{default:d(()=>[m(t(e.$t("joinUs.registerHere")),1)]),_:1})])])],32)])])}const z=h(j,[["render",E],["__scopeId","data-v-17561a57"]]);export{z as default};
