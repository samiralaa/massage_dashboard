import{_ as Ve,s as Pe,T as we,e as A,J as E,U as De,f as ke,r as V,D as Ie,o as i,c as _,G as Ue,m as w,w as r,h as b,a as N,t as m,b as l,F as $,k as D,j as y,i as I,E as h,C as q}from"./index-8c31c214.js";const Ne={class:"product-edit-container"},Ae={key:0,class:"image-preview-list",style:{"margin-bottom":"1em"}},Se=["src"],Ce={class:"el-upload__text"},Ee={key:2,class:"amount-entry mb-3"},Re={class:"current-value"},Me={class:"current-value"},Te={class:"current-value"},Be={class:"current-value"},qe={class:"current-value"},Ye={key:6,class:"image-preview-list",style:{"margin-bottom":"1em"}},Fe=["src"],We={class:"el-upload__text"},U="https://massagebackend.webenia.org",Oe={__name:"Edit",setup(Ke){const Q=Pe(),X=we(),j=A(null),z=X.params.id,C=A(!1),a=A({name_en:"",name_ar:"",price:"",is_available:1,description_en:"",description_ar:"",category_ar:"",category_en:"",category_id:null,currency_id:null,country_id:null,parent_id:null,brand_id:null,images:[],amount_required:!1,amounts:[],unit_id:null,weight:null,amount_price:null,discount:{id:null,value:null,startDate:null,endDate:null,is_active:!1},attributes:[],main_ingredients:[],fragrance_notes:[]}),Z=()=>{a.value.amounts.push({unit_id:null,weight:null,price:null})},x=e=>{if(a.value.amounts.length<=1){h.warning(localStorage.getItem("lang")==="ar"?"يجب عليك حفظ كمية واحدة على الاقل":"At least one amount entry is required.");return}q.confirm(localStorage.getItem("lang")==="ar"?"سيتم حذف الكمية":"The amount will be deleted","Warning",{confirmButtonText:localStorage.getItem("lang")==="ar"?"موافق":"OK",cancelButtonText:localStorage.getItem("lang")==="ar"?"إلغاء":"Cancel",type:"warning"}).then(()=>{a.value.amounts.splice(e,1),h.success(localStorage.getItem("lang")==="ar"?"تم حذف الكمية بنجاح":"Amount deleted successfully")}).catch(()=>{h.info(localStorage.getItem("lang")==="ar"?"تم إلغاء الحذف":"Delete cancelled")})},ee={name_en:[{required:!0,message:"Required",trigger:"blur"}],price:[{required:!0,message:"Required",trigger:"blur"}],"discount.endDate":[{required:!0,message:"Required",trigger:"blur"}],"discount.startDate":[{required:!0,message:"Required",trigger:"blur"}]},S=A([]),O=A([]),K=A([]),L=A([]),Y=A([]),J=A([]),G=e=>(localStorage.getItem("lang")||"en")==="ar"?e.name_ar:e.name_en,H=E(()=>O.value.filter(e=>!e.is_deleted)),ae=E(()=>{const e=Y.value.find(t=>t.id===a.value.brand_id);return e?(localStorage.getItem("lang")||"en")==="ar"?e.name_ar:e.name_en:"N/A"}),le=E(()=>{const e=S.value.find(t=>t.id===a.value.category_id);return e?(localStorage.getItem("lang")||"en")==="ar"?e.name_ar:e.name_en:"N/A"}),te=E(()=>{const e=H.value.find(t=>t.id===a.value.currency_id);return e?G(e):"N/A"}),ne=E(()=>{const e=K.value.find(t=>t.id===a.value.country_id);return e?(localStorage.getItem("lang")||"en")==="ar"?e.name_ar:e.name_en:"N/A"}),re=E(()=>{if(!a.value.parent_id)return"None";const e=L.value.find(t=>t.id===a.value.parent_id);return e?e.name_en:"N/A"}),F=e=>e?typeof e=="object"&&e.url?e.url:e.startsWith("http")?e:`${U}/public/storage/${e}`:"",oe=async()=>{var t;const e=(t=JSON.parse(localStorage.getItem("tokenData")))==null?void 0:t.token;b.defaults.headers.common.Authorization=`Bearer ${e}`,C.value=!0;try{const[p,o,c,f,k,v]=await Promise.all([a.value.brand_id?b.get(`${U}/api/brands/${a.value.brand_id}/categories`):b.get(`${U}/api/categories`),b.get(`${U}/api/website/currencies`),b.get(`${U}/api/countries`),b.get(`${U}/api/products`),b.get(`${U}/api/brands`),b.get(`${U}/api/units`)]);S.value=p.data.data,console.log("Categories:",S.value),O.value=o.data.data,K.value=c.data.data,L.value=f.data.data,Y.value=k.data.data,J.value=v.data.data}catch(p){console.error("Error fetching options",p)}finally{C.value=!1}},ue=async()=>{var e,t,p,o,c,f,k,v;C.value=!0;try{const u=(await b.get(`/api/products/${z}`)).data.data;console.log(u),a.value.name_ar=u.name_ar,a.value.name_en=u.name_en,a.value.description_ar=u.description_ar,a.value.description_en=u.description_en,a.value.price=u.price,a.value.category_ar=(e=u.category)==null?void 0:e.name_ar,a.value.category_en=(t=u.category)==null?void 0:t.name_en,a.value.currency_id=u.currency_id,a.value.country_id=u.country_id,a.value.brand_id=u.brand_id,a.value.parent_id=u.parent_id,a.value.quantity=u.quantity??1,a.value.amounts=((p=u.amounts)==null?void 0:p.map(g=>({unit_id:g.unit_id,weight:g.weight,price:g.price,id:g.id})))||[],a.value.type=u.type??"product",a.value.offer=u.discount?"1":"0",a.value.offer_price=u.discount?u.discounted_price:"",a.value.category_id=u.category_id,a.value.images=u.images.map(g=>({id:g.id,path:g.path,url:F(g.path)})),a.value.discount=u.discount?{id:u.discount.id,value:parseFloat(u.discount.discount_value),startDate:(o=u.discount.start_date)==null?void 0:o.split("T")[0],endDate:(c=u.discount.end_date)==null?void 0:c.split("T")[0],is_active:u.discount.is_active}:{id:null,value:null,startDate:null,endDate:null,is_active:!1},a.value.attributes=((f=u.attributes)==null?void 0:f.map(g=>({name_en:g.name_en,name_ar:g.name_ar,value:g.value,id:g.id})))||[],a.value.main_ingredients=((k=u.main_ingredients)==null?void 0:k.map(g=>({name_en:g.name_en,name_ar:g.name_ar,id:g.id,images:g.images.map(T=>({id:T.id,path:T.path,url:F(T.path)}))||[]})))||[],a.value.fragrance_notes=((v=u.fragrance_notes)==null?void 0:v.map(g=>({name_en:g.name_en,name_ar:g.name_ar,description_en:g.description_en,description_ar:g.description_ar,id:g.id})))||[];const[W,R,M]=await Promise.all([b.get("/api/categories"),b.get("/api/website/currencies"),b.get("/api/brands")]);S.value=W.data.data,O.value=R.data.data,Y.value=M.data.data}catch(P){console.error("Error loading product data",P)}finally{C.value=!1}},de=(e,t)=>a.value.images=t,ie=(e,t)=>a.value.images=t,se=(e,t,p)=>{a.value.main_ingredients[p].images=t},ce=(e,t,p)=>{a.value.main_ingredients[p].images=t},pe=()=>{j.value.validate(async e=>{var p;if(!e)return;const t=new FormData;for(const o in a.value)o!=="images"&&a.value[o]!==null&&o!=="amounts"&&o!=="attributes"&&o!=="main_ingredients"&&o!=="fragrance_notes"&&o!=="discount"&&t.append(o,a.value[o]);a.value.amounts.forEach((o,c)=>{t.append(`amounts[${c}][unit_id]`,o.unit_id),t.append(`amounts[${c}][weight]`,o.weight),t.append(`amounts[${c}][price]`,o.price),o.id&&t.append(`amounts[${c}][id]`,o.id)}),a.value.images.forEach(o=>{o.raw?t.append("images[]",o.raw):o.id&&t.append("existing_images[]",o.id)}),a.value.discount.value&&(t.append("discount[value]",a.value.discount.value),t.append("discount[startDate]",a.value.discount.startDate),t.append("discount[endDate]",a.value.discount.endDate),a.value.discount.id&&t.append("discount[id]",a.value.discount.id)),a.value.attributes.forEach((o,c)=>{t.append(`attributes[${c}][name_en]`,o.name_en),t.append(`attributes[${c}][name_ar]`,o.name_ar),t.append(`attributes[${c}][value]`,o.value),o.id&&t.append(`attributes[${c}][id]`,o.id)}),a.value.main_ingredients.forEach((o,c)=>{t.append(`main_ingredients[${c}][name_en]`,o.name_en),t.append(`main_ingredients[${c}][name_ar]`,o.name_ar),o.id&&t.append(`main_ingredients[${c}][id]`,o.id),o.images.forEach(f=>{f.raw?t.append(`main_ingredients[${c}][images][]`,f.raw):f.id&&t.append(`main_ingredients[${c}][existing_images][]`,f.id)})}),a.value.fragrance_notes.forEach((o,c)=>{t.append(`fragrance_notes[${c}][name_en]`,o.name_en),t.append(`fragrance_notes[${c}][name_ar]`,o.name_ar),t.append(`fragrance_notes[${c}][description_en]`,o.description_en),t.append(`fragrance_notes[${c}][description_ar]`,o.description_ar),o.id&&t.append(`fragrance_notes[${c}][id]`,o.id)}),C.value=!0;try{const o=(p=JSON.parse(localStorage.getItem("tokenData")))==null?void 0:p.token;b.defaults.headers.common.Authorization=`Bearer ${o}`,await b.post(`${U}/api/products/${z}?_method=PUT`,t,{headers:{"Content-Type":"multipart/form-data"}}),h.success("Product updated successfully"),Q.push("/products")}catch(o){console.error("Error submitting form",o),h.error("Error updating product")}finally{C.value=!1}})},me=()=>{q.confirm(localStorage.getItem("lang")==="ar"?"سيتم حذف الخصم":"The discount will be deleted","Warning",{confirmButtonText:localStorage.getItem("lang")==="ar"?"موافق":"OK",cancelButtonText:localStorage.getItem("lang")==="ar"?"إلغاء":"Cancel",type:"warning"}).then(()=>{a.value.discount={id:null,value:null,startDate:null,endDate:null,is_active:!1},h.success(localStorage.getItem("lang")==="ar"?"تم حذف الخصم بنجاح":"Discount deleted successfully")}).catch(()=>{h.info(localStorage.getItem("lang")==="ar"?"تم إلغاء الحذف":"Delete cancelled")})},ge=()=>{a.value.attributes.push({name_en:"",name_ar:"",value:""})},_e=e=>{if(a.value.attributes.length<=1){h.warning(localStorage.getItem("lang")==="ar"?"يجب عليك حفظ خاصية واحدة على الاقل":"At least one attribute is required.");return}q.confirm(localStorage.getItem("lang")==="ar"?"سيتم حذف الخاصية":"The attribute will be deleted","Warning",{confirmButtonText:localStorage.getItem("lang")==="ar"?"موافق":"OK",cancelButtonText:localStorage.getItem("lang")==="ar"?"إلغاء":"Cancel",type:"warning"}).then(()=>{a.value.attributes.splice(e,1),h.success(localStorage.getItem("lang")==="ar"?"تم حذف الخاصية بنجاح":"Attribute deleted successfully")}).catch(()=>{h.info(localStorage.getItem("lang")==="ar"?"تم إلغاء الحذف":"Delete cancelled")})},ve=()=>{a.value.main_ingredients.push({name_en:"",name_ar:""})},fe=e=>{if(a.value.main_ingredients.length<=1){h.warning(localStorage.getItem("lang")==="ar"?"يجب عليك حفظ مكون أساسي واحد على الاقل":"At least one main ingredient is required.");return}q.confirm(localStorage.getItem("lang")==="ar"?"سيتم حذف المكون الأساسي":"The main ingredient will be deleted","Warning",{confirmButtonText:localStorage.getItem("lang")==="ar"?"موافق":"OK",cancelButtonText:localStorage.getItem("lang")==="ar"?"إلغاء":"Cancel",type:"warning"}).then(()=>{a.value.main_ingredients.splice(e,1),h.success(localStorage.getItem("lang")==="ar"?"تم حذف المكون الأساسي بنجاح":"Main ingredient deleted successfully")}).catch(()=>{h.info(localStorage.getItem("lang")==="ar"?"تم إلغاء الحذف":"Delete cancelled")})},be=()=>{a.value.fragrance_notes.push({name_en:"",name_ar:"",description_en:"",description_ar:""})},$e=e=>{if(a.value.fragrance_notes.length<=1){h.warning(localStorage.getItem("lang")==="ar"?"يجب عليك حفظ ملاحظة عطرية واحدة على الاقل":"At least one fragrance note is required.");return}q.confirm(localStorage.getItem("lang")==="ar"?"سيتم حذف الملاحظة العطرية":"The fragrance note will be deleted","Warning",{confirmButtonText:localStorage.getItem("lang")==="ar"?"موافق":"OK",cancelButtonText:localStorage.getItem("lang")==="ar"?"إلغاء":"Cancel",type:"warning"}).then(()=>{a.value.fragrance_notes.splice(e,1),h.success(localStorage.getItem("lang")==="ar"?"تم حذف الملاحظة العطرية بنجاح":"Fragrance note deleted successfully")}).catch(()=>{h.info(localStorage.getItem("lang")==="ar"?"تم إلغاء الحذف":"Delete cancelled")})};return De(()=>a.value.brand_id,async e=>{if(e)try{const t=await b.get(`${U}/api/brands/${e}/categories`);S.value=t.data.data,console.log("Categories for brand:",S.value)}catch(t){console.error("Failed to fetch categories for brand",t)}else{const t=await b.get(`${U}/api/categories`);S.value=t.data.data,a.value.category_id=null}}),ke(async()=>{await ue(),oe()}),(e,t)=>{const p=V("el-input"),o=V("el-form-item"),c=V("el-divider"),f=V("el-option"),k=V("el-select"),v=V("el-col"),P=V("el-row"),u=V("el-button"),W=V("el-upload"),R=V("el-switch"),M=V("el-input-number"),g=V("el-date-picker"),T=V("el-form"),ye=V("el-card"),he=Ie("loading");return i(),_("div",Ne,[Ue((i(),w(ye,{class:"product-card"},{default:r(()=>[N("h2",null,m(e.$t("Products.EditProduct")),1),l(T,{model:a.value,ref_key:"formRef",ref:j,rules:ee,"label-width":"120px",enctype:"multipart/form-data"},{default:r(()=>[l(o,{label:e.$t("Products.NameEn"),prop:"name_en"},{default:r(()=>[l(p,{modelValue:a.value.name_en,"onUpdate:modelValue":t[0]||(t[0]=n=>a.value.name_en=n),placeholder:e.$t("Products.NameEn")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.NameAr"),prop:"name_ar"},{default:r(()=>[l(p,{modelValue:a.value.name_ar,"onUpdate:modelValue":t[1]||(t[1]=n=>a.value.name_ar=n),placeholder:e.$t("Products.NameAr")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a.value.amounts?(i(!0),_($,{key:0},D(a.value.amounts,(n,s)=>(i(),_("div",{key:s,class:"amount-entry mb-3"},[l(c,{"content-position":"left"},{default:r(()=>[y(m(e.$t("Products.Amount-Info")),1)]),_:1}),l(P,{gutter:20},{default:r(()=>[l(v,{span:8},{default:r(()=>[l(o,{label:e.$t("Products.Unit"),prop:`amounts.${s}.unit_id`},{default:r(()=>[l(k,{modelValue:n.unit_id,"onUpdate:modelValue":d=>n.unit_id=d,placeholder:e.$t("Products.select-unit"),filterable:"",clearable:""},{default:r(()=>[(i(!0),_($,null,D(J.value,d=>(i(),w(f,{key:d.id,label:d.name_en,value:d.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024),l(v,{span:8},{default:r(()=>[l(o,{label:e.$t("Products.Weight"),prop:`amounts.${s}.weight`},{default:r(()=>[l(p,{modelValue:n.weight,"onUpdate:modelValue":d=>n.weight=d,type:"number",min:1,placeholder:e.$t("Products.Weight")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024),l(v,{span:8},{default:r(()=>[l(o,{label:e.$t("Products.amount-Price"),prop:`amounts.${s}.price`},{default:r(()=>[l(p,{modelValue:n.price,"onUpdate:modelValue":d=>n.price=d,type:"number",min:1,placeholder:e.$t("Products.amount-Price")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024)]),_:2},1024),l(P,{gutter:20,class:"button-row"},{default:r(()=>[l(v,{span:24},{default:r(()=>[a.value.amounts.length>0?(i(),w(u,{key:0,type:"danger",onClick:d=>x(s),icon:"el-icon-delete"},{default:r(()=>[y(m(e.$t("Products.RemoveAmount")),1)]),_:2},1032,["onClick"])):I("",!0),a.value.amounts.length>0?(i(),w(u,{key:1,type:"success",plain:"",onClick:Z,icon:"el-icon-plus"},{default:r(()=>[y(m(e.$t("Products.AddAmount")),1)]),_:1})):I("",!0)]),_:2},1024)]),_:2},1024)]))),128)):I("",!0),l(c,{"content-position":"left"},{default:r(()=>[y(m(e.$t("Products.Attributes")),1)]),_:1}),(i(!0),_($,null,D(a.value.attributes,(n,s)=>(i(),_("div",{key:s,class:"attribute-entry mb-3"},[l(P,{gutter:20},{default:r(()=>[l(v,{span:8},{default:r(()=>[l(o,{label:`Attribute Name EN ${s+1}`,prop:`attributes.${s}.name_en`},{default:r(()=>[l(p,{modelValue:n.name_en,"onUpdate:modelValue":d=>n.name_en=d,placeholder:e.$t("Products.NameEn")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024),l(v,{span:8},{default:r(()=>[l(o,{label:`Attribute Name AR ${s+1}`,prop:`attributes.${s}.name_ar`},{default:r(()=>[l(p,{modelValue:n.name_ar,"onUpdate:modelValue":d=>n.name_ar=d,placeholder:e.$t("Products.NameAr")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024),l(v,{span:8},{default:r(()=>[l(o,{label:`Attribute Value ${s+1}`,prop:`attributes.${s}.value`},{default:r(()=>[l(p,{modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,placeholder:e.$t("Products.Value")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024)]),_:2},1024),l(P,{gutter:20,class:"button-row"},{default:r(()=>[l(v,{span:24},{default:r(()=>[l(u,{type:"danger",onClick:d=>_e(s)},{default:r(()=>[y(m(e.$t("Products.RemoveAttribute")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(u,{type:"primary",onClick:ge},{default:r(()=>[y(m(e.$t("Products.AddAttribute")),1)]),_:1}),a.value.main_ingredients.length>0?(i(),_($,{key:1},[l(c,{"content-position":"left"},{default:r(()=>[y(m(e.$t("Products.MainIngredients")),1)]),_:1}),(i(!0),_($,null,D(a.value.main_ingredients,(n,s)=>(i(),_("div",{key:s,class:"ingredient-entry mb-3"},[l(P,{gutter:20},{default:r(()=>[l(v,{span:12},{default:r(()=>[l(o,{label:`Main Ingredient Name EN ${s+1}`,prop:`main_ingredients.${s}.name_en`},{default:r(()=>[l(p,{modelValue:n.name_en,"onUpdate:modelValue":d=>n.name_en=d,placeholder:e.$t("Products.NameEn")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024),l(v,{span:12},{default:r(()=>[l(o,{label:`Main Ingredient Name AR ${s+1}`,prop:`main_ingredients.${s}.name_ar`},{default:r(()=>[l(p,{modelValue:n.name_ar,"onUpdate:modelValue":d=>n.name_ar=d,placeholder:e.$t("Products.NameAr")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024)]),_:2},1024),l(P,{gutter:20},{default:r(()=>[l(v,{span:24},{default:r(()=>[n.images&&n.images.length?(i(),_("div",Ae,[(i(!0),_($,null,D(n.images,(d,B)=>(i(),_("img",{key:B,src:d.url?d.url:F(d.path),alt:"Main Ingredient Image",style:{"max-width":"120px","max-height":"120px","margin-right":"10px","border-radius":"8px"}},null,8,Se))),128))])):I("",!0),l(o,{label:e.$t("Products.Images"),prop:`main_ingredients.${s}.images`},{default:r(()=>[l(W,{class:"upload-demo",drag:"",action:"","auto-upload":!1,limit:1,"file-list":n.images,"list-type":"picture","on-change":(d,B)=>se(d,B,s),"on-remove":(d,B)=>ce(d,B,s)},{default:r(()=>[t[19]||(t[19]=N("i",{class:"el-icon-upload"},null,-1)),N("div",Ce,m(e.$t("Products.DropFiles")),1)]),_:2,__:[19]},1032,["file-list","on-change","on-remove"])]),_:2},1032,["label","prop"])]),_:2},1024)]),_:2},1024),l(P,{gutter:20,class:"button-row"},{default:r(()=>[l(v,{span:24},{default:r(()=>[l(u,{type:"danger",onClick:d=>fe(s)},{default:r(()=>[y(m(e.$t("Products.RemoveMainIngredient")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))],64)):I("",!0),l(u,{type:"primary",onClick:ve},{default:r(()=>[y(m(e.$t("Products.AddMainIngredient")),1)]),_:1}),l(c,{"content-position":"left"},{default:r(()=>[y(m(e.$t("Products.FragranceNotes")),1)]),_:1}),(i(!0),_($,null,D(a.value.fragrance_notes,(n,s)=>(i(),_("div",{key:s,class:"fragrance-note-entry mb-3"},[l(P,{gutter:20},{default:r(()=>[l(v,{span:12},{default:r(()=>[l(o,{label:`Note Name EN ${s+1}`,prop:`fragrance_notes.${s}.name_en`},{default:r(()=>[l(p,{modelValue:n.name_en,"onUpdate:modelValue":d=>n.name_en=d,placeholder:e.$t("Products.NameEn")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024),l(v,{span:12},{default:r(()=>[l(o,{label:`Note Name AR ${s+1}`,prop:`fragrance_notes.${s}.name_ar`},{default:r(()=>[l(p,{modelValue:n.name_ar,"onUpdate:modelValue":d=>n.name_ar=d,placeholder:e.$t("Products.NameAr")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024)]),_:2},1024),l(P,{gutter:20},{default:r(()=>[l(v,{span:12},{default:r(()=>[l(o,{label:`Note Description EN ${s+1}`,prop:`fragrance_notes.${s}.description_en`},{default:r(()=>[l(p,{type:"textarea",modelValue:n.description_en,"onUpdate:modelValue":d=>n.description_en=d,placeholder:e.$t("Products.DescriptionEn")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024),l(v,{span:12},{default:r(()=>[l(o,{label:`Note Description AR ${s+1}`,prop:`fragrance_notes.${s}.description_ar`},{default:r(()=>[l(p,{type:"textarea",modelValue:n.description_ar,"onUpdate:modelValue":d=>n.description_ar=d,placeholder:e.$t("Products.DescriptionAr")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]),_:2},1024)]),_:2},1024),l(P,{gutter:20,class:"button-row"},{default:r(()=>[l(v,{span:24},{default:r(()=>[l(u,{type:"danger",onClick:d=>$e(s)},{default:r(()=>[y(m(e.$t("Products.RemoveFragranceNote")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(u,{type:"primary",onClick:be},{default:r(()=>[y(m(e.$t("Products.AddFragranceNote")),1)]),_:1}),l(o,{label:e.$t("Products.discount"),prop:"discount.value"},{default:r(()=>[l(R,{modelValue:a.value.discount.is_active,"onUpdate:modelValue":t[2]||(t[2]=n=>a.value.discount.is_active=n),"active-text":"Yes","inactive-text":"No"},null,8,["modelValue"])]),_:1},8,["label"]),a.value.discount&&a.value.discount.is_active?(i(),_("div",Ee,[l(c,{"content-position":"left"},{default:r(()=>[y(m(e.$t("Products.discountInfo")),1)]),_:1}),a.value.discount.is_active?(i(),_($,{key:0},[l(o,{label:e.$t("Products.Discount-Value"),prop:"discount.value"},{default:r(()=>[l(M,{modelValue:a.value.discount.value,"onUpdate:modelValue":t[3]||(t[3]=n=>a.value.discount.value=n),type:"number",min:1,max:99,placeholder:e.$t("Products.Discount-Value")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.Start-Date"),prop:"discount.startDate"},{default:r(()=>[l(g,{modelValue:a.value.discount.startDate,"onUpdate:modelValue":t[4]||(t[4]=n=>a.value.discount.startDate=n),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:e.$t("Products.Start-Date"),style:{width:"100%"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.End-Date"),prop:"discount.endDate"},{default:r(()=>[l(g,{modelValue:a.value.discount.endDate,"onUpdate:modelValue":t[5]||(t[5]=n=>a.value.discount.endDate=n),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:e.$t("Products.End-Date"),style:{width:"100%"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a.value.discount.value?(i(),w(u,{key:0,type:"danger",icon:"el-icon-delete",onClick:me},{default:r(()=>[y(m(e.$t("Products.removeDiscount")),1)]),_:1})):I("",!0),l(c)],64)):I("",!0)])):I("",!0),!a.value.amounts.length>0?(i(),w(o,{key:3,label:e.$t("Products.Needs-Amount")},{default:r(()=>[l(R,{modelValue:a.value.amount_required,"onUpdate:modelValue":t[6]||(t[6]=n=>a.value.amount_required=n),"active-text":"Yes","inactive-text":"No",dir:"ltr",class:"mx-3"},null,8,["modelValue"])]),_:1},8,["label"])):I("",!0),a.value.amount_required?(i(),_($,{key:4},[l(c,{"content-position":"left"},{default:r(()=>[y(m(e.$t("Products.Amount-Info")),1)]),_:1}),l(o,{label:e.$t("Products.Unit"),prop:"unit_id"},{default:r(()=>[l(k,{modelValue:a.value.unit_id,"onUpdate:modelValue":t[7]||(t[7]=n=>a.value.unit_id=n),placeholder:e.$t("Products.select-unit"),filterable:"",clearable:""},{default:r(()=>[(i(!0),_($,null,D(J.value,n=>(i(),w(f,{key:n.id,label:n.name_en,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.Weight"),prop:"weight"},{default:r(()=>[l(M,{modelValue:a.value.weight,"onUpdate:modelValue":t[8]||(t[8]=n=>a.value.weight=n),type:"number",min:1,placeholder:e.$t("Products.select-weight")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.amount-Price"),prop:"amount_price"},{default:r(()=>[l(M,{modelValue:a.value.amount_price,"onUpdate:modelValue":t[9]||(t[9]=n=>a.value.amount_price=n),type:"number",min:1,placeholder:e.$t("Products.select-price")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):I("",!0),a.value.amounts?I("",!0):(i(),w(o,{key:5,label:e.$t("Products.Price"),prop:"price"},{default:r(()=>[l(p,{modelValue:a.value.price,"onUpdate:modelValue":t[10]||(t[10]=n=>a.value.price=n),type:"number",min:1,placeholder:e.$t("Products.Price")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])),l(o,{label:e.$t("Products.Availability"),prop:"is_available"},{default:r(()=>[l(R,{modelValue:a.value.is_available,"onUpdate:modelValue":t[11]||(t[11]=n=>a.value.is_available=n),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.DescriptionEn"),prop:"description_en"},{default:r(()=>[l(p,{type:"textarea",modelValue:a.value.description_en,"onUpdate:modelValue":t[12]||(t[12]=n=>a.value.description_en=n),placeholder:e.$t("Products.DescriptionEn")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.DescriptionAr"),prop:"description_ar"},{default:r(()=>[l(p,{type:"textarea",modelValue:a.value.description_ar,"onUpdate:modelValue":t[13]||(t[13]=n=>a.value.description_ar=n),placeholder:e.$t("Products.DescriptionAr")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(o,{label:e.$t("Products.brand"),prop:"brand_id"},{default:r(()=>[l(k,{modelValue:a.value.brand_id,"onUpdate:modelValue":t[14]||(t[14]=n=>a.value.brand_id=n),filterable:"",clearable:"",placeholder:e.$t("Products.SelectBrand")},{default:r(()=>[(i(!0),_($,null,D(Y.value,n=>(i(),w(f,{key:n.id,label:n.name_en,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),N("span",Re,m(e.$t("Products.Current"))+": "+m(ae.value),1)]),_:1},8,["label"]),l(o,{label:e.$t("Products.Category"),prop:"category_id"},{default:r(()=>[l(k,{modelValue:a.value.category_id,"onUpdate:modelValue":t[15]||(t[15]=n=>a.value.category_id=n),filterable:"",clearable:"",placeholder:e.$t("Products.SelectCategory")},{default:r(()=>[(i(!0),_($,null,D(S.value,n=>(i(),w(f,{key:n.id,label:n.name_en||n.name_ar,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),N("span",Me,m(e.$t("Products.Current"))+": "+m(le.value),1)]),_:1},8,["label"]),l(o,{label:e.$t("Products.Currency"),prop:"currency_id"},{default:r(()=>[l(k,{modelValue:a.value.currency_id,"onUpdate:modelValue":t[16]||(t[16]=n=>a.value.currency_id=n),filterable:"",clearable:"",placeholder:e.$t("Products.SelectCurrency")},{default:r(()=>[(i(!0),_($,null,D(H.value,n=>(i(),w(f,{key:n.id,label:G(n),value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),N("span",Te,m(e.$t("Products.Current"))+": "+m(te.value),1)]),_:1},8,["label"]),l(o,{label:e.$t("Products.Country"),prop:"country_id"},{default:r(()=>[l(k,{modelValue:a.value.country_id,"onUpdate:modelValue":t[17]||(t[17]=n=>a.value.country_id=n),filterable:"",clearable:"",placeholder:e.$t("Products.SelectCountry")},{default:r(()=>[(i(!0),_($,null,D(K.value,n=>(i(),w(f,{key:n.id,label:n.name_en||n.name_ar,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),N("span",Be,m(e.$t("Products.Current"))+": "+m(ne.value),1)]),_:1},8,["label"]),l(o,{label:e.$t("Products.ParentProduct"),prop:"parent_id"},{default:r(()=>[l(k,{modelValue:a.value.parent_id,"onUpdate:modelValue":t[18]||(t[18]=n=>a.value.parent_id=n),clearable:"",placeholder:e.$t("Products.SelectParentProduct")},{default:r(()=>[l(f,{label:e.$t("Products.None"),value:null},null,8,["label"]),(i(!0),_($,null,D(L.value,n=>(i(),w(f,{key:n.id,label:n.name_en,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),N("span",qe,m(e.$t("Products.Current"))+": "+m(re.value),1)]),_:1},8,["label"]),a.value.images&&a.value.images.length?(i(),_("div",Ye,[(i(!0),_($,null,D(a.value.images,(n,s)=>(i(),_("img",{key:s,src:n.url?n.url:F(n.path),alt:"Product Image",style:{"max-width":"120px","max-height":"120px","margin-right":"10px","border-radius":"8px"}},null,8,Fe))),128))])):I("",!0),l(o,{label:e.$t("Products.Images"),prop:"images"},{default:r(()=>[l(W,{class:"upload-demo",drag:"",action:"","auto-upload":!1,limit:5,"file-list":a.value.images,"list-type":"picture","on-change":de,"on-remove":ie},{default:r(()=>[t[20]||(t[20]=N("i",{class:"el-icon-upload"},null,-1)),N("div",We,m(e.$t("Products.DropFiles")),1)]),_:1,__:[20]},8,["file-list"])]),_:1},8,["label"]),l(o,null,{default:r(()=>[l(u,{type:"primary",onClick:pe},{default:r(()=>[y(m(e.$t("Products.UpdateButton")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})),[[he,C.value]])])}}},Je=Ve(Oe,[["__scopeId","data-v-f75e80c2"]]);export{Je as default};
