import{_ as f,y as r,E as L,r as v,o as n,c as d,a as t,t as s,F as y,d as w,b as _,U as k,e as $,p as b}from"./index-50b21e1d.js";const D={class:"logs-container"},E={class:"header"},B={class:"table-responsive logs-table overflow-auto"},I={class:"table table-hover align-middle"},S={scope:"col"},A={scope:"col"},U={scope:"col"},F={scope:"col"},M={scope:"col"},N={scope:"col"},C={scope:"col"},O={scope:"col"},P={class:"align-middle"},R={class:"align-middle"},V={class:"align-middle"},z={class:"align-middle"},J={class:"align-middle"},T={class:"align-middle"},j={class:"d-inline-block text-truncate w-100",style:{"max-width":"200px"}},q={class:"align-middle"},x="https://massagebackend.webenia.org",G={__name:"Log",setup(H){const c=r([]),l=r(!1),h=`${x}/api/logs`,g=async()=>{l.value=!0;try{const e=JSON.parse(localStorage.getItem("tokenData"));if(!e||!e.token)throw new Error("Authentication token not found");_.defaults.headers.common.Authorization=`Bearer ${e.token}`;const a=await _.get(h);if(a.data.status==="success"||a.data.status===!0)c.value=a.data.data;else throw new Error(a.data.message||"Failed to fetch logs")}catch(e){console.error("Log Fetch Error:",e),k.error(e.message||"Error fetching logs")}finally{l.value=!1}},p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return L(()=>{g()}),(e,a)=>{const u=v("el-tooltip");return n(),d("div",D,[t("div",E,[t("h2",null,s(e.$t("Logs.Logs")),1)]),t("div",B,[t("table",I,[t("thead",null,[t("tr",null,[t("th",S,s(e.$t("Logs.User")),1),t("th",A,s(e.$t("Logs.Operation")),1),t("th",U,s(e.$t("Logs.Model")),1),t("th",F,s(e.$t("Logs.ModelID")),1),t("th",M,s(e.$t("Logs.Description")),1),t("th",N,s(e.$t("Logs.IPAddress")),1),t("th",C,s(e.$t("Logs.BrowserInfo")),1),t("th",O,s(e.$t("Logs.Timestamp")),1)])]),t("tbody",null,[(n(!0),d(y,null,w(c.value,(o,m)=>{var i;return n(),d("tr",{key:m},[t("th",P,s((i=o.user)==null?void 0:i.name),1),t("td",R,s(o.operation),1),t("td",V,s(o.model_type),1),t("td",z,s(o.model_id),1),t("td",J,s(o.description),1),t("td",T,s(o.ip_address),1),t("td",null,[$(u,{class:"item",effect:"dark",content:o.user_agent,placement:"top"},{default:b(()=>[t("span",j,s(o.user_agent),1)]),_:2},1032,["content"])]),t("td",q,s(p(o.created_at)),1)])}),128))])])])])}}},Q=f(G,[["__scopeId","data-v-35035d9e"]]);export{Q as default};
