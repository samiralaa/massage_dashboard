import{_ as B,y as f,E as x,r as o,a5 as D,o as h,c as E,a as w,t as s,e as a,p as n,b as c,j as u,w as C,l as A,a4 as N}from"./index-50b21e1d.js";const U={class:"units-container"},S={class:"header"},z="https://massagebackend.webenia.org",F={__name:"index",setup(I){const d=f([]),l=f(!1),_=`${z}/api/units`,p=async()=>{l.value=!0;try{const e=JSON.parse(localStorage.getItem("tokenData"));if(!e||!e.token)throw new Error("Authentication token not found");c.defaults.headers.common.Authorization=`Bearer ${e.token}`;const t=await c.get(_);if(t.data.status)d.value=t.data.data;else throw new Error(t.data.message||"Failed to fetch units")}catch(e){console.error("Fetch units error:",e)}finally{l.value=!1}};x(()=>{p()});const v=e=>{},y=async e=>{try{await N.confirm("Are you sure you want to delete this unit?","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"});const t=await c.delete(`${_}/${e.id}`);if(t.data.status)p();else throw new Error(t.data.message||"Failed to delete unit")}catch(t){console.error("Delete unit error:",t)}};return(e,t)=>{const i=o("el-button"),r=o("el-table-column"),b=o("el-table"),g=o("el-card"),k=D("loading");return h(),E("div",U,[w("div",S,[w("h2",null,s(e.$t("input.unites.Units-List")),1),a(i,{type:"primary",to:"/units/create",tag:"router-link"},{default:n(()=>[u(s(e.$t("input.unites.add-unit")),1)]),_:1})]),a(g,{class:"units-table"},{default:n(()=>[C((h(),A(b,{data:d.value,style:{width:"100%"}},{default:n(()=>[a(r,{prop:"name_ar",label:e.$t("input.unites.name-ar")},null,8,["label"]),a(r,{prop:"name_en",label:e.$t("input.unites.name-en")},null,8,["label"]),a(r,{label:e.$t("input.unites.action")},{default:n(m=>[a(i,{type:"text",size:"small",onClick:$=>v(m.row)},{default:n(()=>[u(s(e.$t("input.unites.update")),1)]),_:2},1032,["onClick"]),a(i,{type:"text",size:"small",onClick:$=>y(m.row)},{default:n(()=>[u(s(e.$t("input.unites.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[k,l.value]])]),_:1})])}}},T=B(F,[["__scopeId","data-v-4527261e"]]);export{T as default};
