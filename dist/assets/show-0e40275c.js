import{_ as S,D as I,M as L,y as k,E as M,r,a5 as U,o as n,c as g,a as o,e as a,p as t,G as _,t as l,w as z,l as u,n as j,b as C,U as J,j as p,a8 as O,a6 as $,f as T,F as q,d as H}from"./index-50b21e1d.js";const K={class:"header"},Q={class:"header-left"},W={class:"page-title"},X={key:0,class:"details-content"},Y={class:"image-section"},Z={class:"image-error"},x={key:1,class:"image-error"},ee={class:"info-section"},te={dir:"rtl"},ae={dir:"rtl"},se={class:"image-error"},oe={class:"product-info"},m="https://massagebackend.webenia.org",le={__name:"show",setup(re){const b=I(),N=L(),s=k(null),v=k(!1),A=`${m}/api/categories`,D=async()=>{v.value=!0;try{const e=JSON.parse(localStorage.getItem("tokenData"));if(!e||!e.token)throw new Error("Authentication token not found");C.defaults.headers.common.Authorization=`Bearer ${e.token}`;const c=await C.get(`${A}/${N.params.id}`);if(c.data.status==="success")s.value=c.data.data;else throw new Error(c.data.message||"Failed to fetch category")}catch(e){console.error("Fetch category error:",e),J.error(e.message||"Failed to fetch category"),b.push("/categories")}finally{v.value=!1}};return M(()=>{D()}),(e,c)=>{const E=r("el-button"),f=r("el-icon"),w=r("el-image"),d=r("el-descriptions-item"),B=r("el-descriptions"),F=r("el-divider"),R=r("el-empty"),y=r("el-card"),V=r("el-col"),G=r("el-row"),P=U("loading");return n(),g("div",{class:j(["category-details-container",{rtl:e.$i18n.locale==="ar"}])},[o("div",K,[o("div",Q,[a(E,{onClick:c[0]||(c[0]=h=>_(b).back()),icon:_(O),class:"back-button"},{default:t(()=>[p(l(e.$t("common.cancel")),1)]),_:1},8,["icon"]),o("h2",W,l(e.$t("Categories.Categories"))+" "+l(e.$t("Global.View")),1)])]),z((n(),u(y,{class:"category-details"},{default:t(()=>{var h;return[s.value?(n(),g("div",X,[o("div",Y,[s.value.images&&s.value.images.length>0?(n(),u(w,{key:0,src:`${m}/${s.value.images[0].path}`,fit:"cover",class:"category-image","preview-src-list":[`${m}/${s.value.images[0].path}`],"initial-index":0,"preview-teleported":""},{error:t(()=>[o("div",Z,[a(f,null,{default:t(()=>[a(_($))]),_:1})])]),_:1},8,["src","preview-src-list"])):(n(),g("div",x,[a(f,null,{default:t(()=>[a(_($))]),_:1})]))]),o("div",ee,[a(B,{column:1,border:""},{default:t(()=>[a(d,{label:e.$t("Categories.name")+" (EN)"},{default:t(()=>[p(l(s.value.name_en),1)]),_:1},8,["label"]),a(d,{label:e.$t("Categories.name")+" (AR)"},{default:t(()=>[o("div",te,l(s.value.name_ar||"N/A"),1)]),_:1},8,["label"]),a(d,{label:e.$t("Categories.Brand")},{default:t(()=>{var i;return[p(l(((i=s.value.brand)==null?void 0:i.name_en)||"N/A"),1)]}),_:1},8,["label"]),a(d,{label:e.$t("Categories.DescriptionEn")},{default:t(()=>[p(l(s.value.description_en||"N/A"),1)]),_:1},8,["label"]),a(d,{label:e.$t("Categories.DescriptionAr")},{default:t(()=>[o("div",ae,l(s.value.description_ar||"N/A"),1)]),_:1},8,["label"])]),_:1})])])):T("",!0),a(F,{"content-position":"left"},{default:t(()=>[p(l(e.$t("Categories.Products")),1)]),_:1}),!((h=s.value)!=null&&h.products)||s.value.products.length===0?(n(),u(R,{key:1,description:e.$t("Global.NoProducts")},null,8,["description"])):(n(),u(G,{key:2,gutter:20},{default:t(()=>[(n(!0),g(q,null,H(s.value.products,i=>(n(),u(V,{key:i.id,xs:24,sm:12,md:8,lg:6},{default:t(()=>[a(y,{class:"product-card",shadow:"hover"},{default:t(()=>[a(w,{src:`${m}/${i.image}`,fit:"cover",class:"product-image","preview-src-list":[`${m}/${i.image}`],"preview-teleported":""},{error:t(()=>[o("div",se,[a(f,null,{default:t(()=>[a(_($))]),_:1})])]),_:2},1032,["src","preview-src-list"]),o("div",oe,[o("h3",null,l(i.name_en),1),o("p",null,l(e.$t("Global.Price"))+": $"+l(i.price),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1}))]}),_:1})),[[P,v.value]])],2)}}},ie=S(le,[["__scopeId","data-v-b7415789"]]);export{ie as default};
